!function(){"use strict";const t=function(t,e,n){return`<button class="close-button${t&&t.length>0?" "+t:""}" aria-label="${e}"${n?' data-selector="'+n+'"':""} tabindex="0">${i("close")}</button>`},e=function(){return Math.floor(9e9*Math.random())+1e9},i=function(t){return`\n\t\t<svg class="brei-icon brei-icon-${t}" aria-hidden="true">\n\t\t\t<use xlink:href="#brei-icon-${t}"></use>\n\t\t</svg>\n\t`},n={small:window.matchMedia("(min-width: 400px)"),medium:window.matchMedia("(min-width: 768px)"),large:window.matchMedia("(min-width: 1024px)"),xlarge:window.matchMedia("(min-width: 1200px)"),xxlarge:window.matchMedia("(min-width: 1440px)"),xxxlarge:window.matchMedia("(min-width: 1920px)")},o=function(t){"loading"!==document.readyState?t():document.addEventListener?document.addEventListener("DOMContentLoaded",t,!1):document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&t()}))},l=function(e,i,n){return`\n\t\t<div id="${i}" class="speech-bubble${e&&e.length>0?" "+e:""}" role="tooltip">\n\t\t\t<span class="speech-bubble__text">${n}</span>\n\t\t\t${t("close-button--light close-button--small","Click to close tooltip")}\n\t\t</div>\n\t`};Object.assign;var s=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n="__".concat(t),o=$.fn[t];$.fn[t]=function(t){return this.each((function(){var i=$(this),o=i.data(n);o||i.data(n,o=new e(this,t)),"string"==typeof t&&o[t]()}))},i&&($[t]=function(e){return $({})[t](e)}),$.fn[t].noConflict=function(){return $.fn[t]=o}};function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,l=void 0,l=function(t,e){if("object"!==a(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===a(l)?l:String(l)),n)}var o,l}var c=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.defaults={maxlength:$(e).attr("maxlength")?$(e).attr("maxlength"):999},this.element=e,this.options=$.extend({},this.defaults,i),this.enabled=!!$(e).attr("maxlength"),this.enabled&&this.init()}var e,i,n;return e=t,(i=[{key:"init",value:function(){this.appendCount(),this.bindUIActions()}},{key:"bindUIActions",value:function(){var t=this;$(this.element).on("keyup",this.onKeyUp.bind(this)),$(this.element).on("render",this.render.bind(this)),o((function(){$(t.element).trigger("render",[$(t.element).val().length,t.options.maxlength])}))}},{key:"onKeyUp",value:function(t){var e=$(t.target).val().length;$(t.target).trigger("render",[e,this.options.maxlength])}},{key:"pad",value:function(t){return t<100&&t>=10?"".concat(t):t<10?"0".concat(t):t}},{key:"render",value:function(t,e,i){var n=i-e;$(t.target).parent(".form__field").find(".form__text-count").empty().text("".concat(this.pad(n),"/").concat(i," Characters Remaining"))}},{key:"appendCount",value:function(){var t=$(this.element).parent(".form__field");t.length>0&&t.find(".form__text-count").length<=0&&t.append('<div class="form__text-count"></div>')}}])&&r(e.prototype,i),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),u={validClass:"form__field--is-valid",invalidClass:"form__field--is-invalid",elem:{$body:$("body"),$selects:$("select:not([multiple])"),$textarea:$("textarea")},init:function(){s("Textarea",c),this.bindUIActions(),this.selectability()},bindUIActions:function(){this.elem.$body.on("click",'.form input[type="submit"], .form button[type="submit"]',this.onClick.bind(this)).on("input","input,textarea",this.input.bind(this)).on("change",this.elem.$selects,this.input.bind(this)),this.elem.$textarea.Textarea()},checkFormValid:function(){return $(".form [required]:invalid").length<=0},onClick:function(t){var e=this,i=$(t.target).parents("form");if(!i.hasClass("mobile-search"))if(i.addClass("js-was-submitted"),i.hasClass("js-is-valid")||t.preventDefault(),this.checkFormValid())i.addClass("js-is-valid"),i[0].submit();else{var n=$("[required]:invalid").first().closest(".form__field");$("[required]").each((function(t){e.input($("[required]:eq(".concat(t.toString(),")")))})),scrollToTop(n,425)}},input:function(t){var e=t.length?t:$(t.target),i=""===e.val();e.is(":invalid")?e.parent(".form__field").removeClass(this.validClass).addClass(this.invalidClass):i?e.parent(".form__field").removeClass(this.invalidClass).removeClass(this.validClass):e.parent(".form__field").removeClass(this.invalidClass).addClass(this.validClass)},selectability:function(){this.elem.$selects.length>0&&(this.elem.$selects.selectability({position:"above",floatLabel:"true"}),$('.selectability[aria-disabled="true"]').attr("tabindex","-1"))}};function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function b(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,l=void 0,l=function(t,e){if("object"!==f(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===f(l)?l:String(l)),n)}var o,l}var h=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.defaults={offset:0,type:"button",before:function(){},after:function(){}},this.element=e,this.options=$.extend({},this.defaults,i),this.init()}var i,o,s;return i=t,o=[{key:"init",value:function(){this.bindUIActions()}},{key:"bindUIActions",value:function(){var t,e,i;$(this.element).off("click.element"),$(this.element).on("click.element",this.toggle.bind(this)),$(this.element).off("mouseleave.element"),$(this.element).on("mouseleave.element",(function(t){return $(t.target).blur()})),$(window).off("resize.window_tooltip"),$(window).on("resize.window_tooltip",(t=this.onResize.bind(this),e=100,function(){var n=this,o=arguments;clearTimeout(i),i=setTimeout((function(){return t.apply(n,o)}),e)})),$(document).off("click.document_tooltip"),$(document).on("click.document_tooltip",this.closeAllSpeechBubbles.bind(this)),$(document).off("click.tooltip_close"),$(document).on("click.tooltip_close",".close-button",this.closeSpeechBubble.bind(this))}},{key:"onResize",value:function(){var t=$(this.element).siblings(".speech-bubble");if(t&&t.length){var e=t.hasClass("speech-bubble--is-visible");$(this.element).hasClass("text-tooltip text-tooltip--is-active")&&$(this.element).removeClass("text-tooltip--is-active"),t.remove(),e&&$(this.element).trigger("click")}}},{key:"toggle",value:function(t){var i=this,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.preventDefault();var s=$(t.target),a=s.siblings(".speech-bubble").length;if(o&&this.closeAllSpeechBubbles(null),this.options.before.call(this,this.element),a)s.siblings(".speech-bubble").toggleClass("speech-bubble--is-visible"),s.toggleClass("tooltip--is-active");else{var r=s.data("tooltip-content"),c="speech-bubble"+e(),u=l("",c,r);s.attr("aria-describedby",c),s.attr("aria-labelledby",c),$(u).insertAfter(s);var f=setInterval((function(){var t=$('.speech-bubble[id="'+c+'"]');if(t.length){var e=s.closest(".form");n.medium.matches?"button"===i.options.type?i.options.offset=9:i.options.offset=10:"button"===i.options.type?i.options.offset=9:i.options.offset=0;var o=i.calculateX(s,t),l=i.calculateY(s);n.medium.matches&&e.length&&(o=s.position().left-t.outerWidth(!0)+(s.outerWidth(!0)+10)),t.css("transform","translate3d(".concat(o,"px, ").concat(l,"px, 0px)")),t.addClass("speech-bubble--is-visible".concat(e.length?" speech-bubble--align-right":"")),s.addClass("tooltip--is-active"),clearInterval(f)}}),1)}this.options.after.call(this,this.element)}},{key:"closeAllSpeechBubbles",value:function(t){t&&void 0!==t&&$(".close-button, .speech-bubble, .speech-bubble__text, .tooltip, .text-tooltip").filter((function(e,i){return $(i).is(t.target)})).length>0||$(".speech-bubble").each((function(t){$(".speech-bubble:eq(".concat(t,")")).hasClass("speech-bubble--is-visible")&&($(".speech-bubble:eq(".concat(t,")")).removeClass("speech-bubble--is-visible"),$('.text-tooltip[class*="text-tooltip--is-active"]').removeClass("text-tooltip--is-active"),$(".speech-bubble:eq(".concat(t,")")).siblings(".tooltip--is-active").removeClass("tooltip--is-active"))}))}},{key:"closeSpeechBubble",value:function(t){t.stopImmediatePropagation(),$(t.target).closest(".speech-bubble").siblings(this.element).trigger("click",!1)}},{key:"calculateX",value:function(t,e){return n.large.matches?t.position().left-e.outerWidth(!0)/2+t.outerWidth(!0)/2:n.medium.matches?t.position().left-e.outerWidth(!0)/2:-1*(t.offset().left-8)}},{key:"calculateY",value:function(t){return t.position().top+(t.outerHeight(!0)+this.options.offset)}}],o&&b(i.prototype,o),s&&b(i,s),Object.defineProperty(i,"prototype",{writable:!1}),t}(),d={elem:{$textTooltip:$(".text-tooltip"),$tooltip:$(".tooltip")},init:function(){s("Tooltip",h),u.init(),this.bindUIActions()},bindUIActions:function(){this.elem.$tooltip.Tooltip({type:"button"}),this.elem.$textTooltip.Tooltip({type:"text",after:function(t){$(t).toggleClass("text-tooltip--is-active")}})}};o((function(){d.init()}))}();
//# sourceMappingURL=main.js.map