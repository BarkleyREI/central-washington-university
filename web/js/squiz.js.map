{"version":3,"file":"squiz.js","mappings":"yBAuHQA,OAAOC,WAAW,sBACjBD,OAAOC,WAAW,sBACnBD,OAAOC,WAAW,uBACjBD,OAAOC,WAAW,uBACjBD,OAAOC,WAAW,uBACjBD,OAAOC,WAAW,uBAxH7B,MA8JMC,EAAQ,SAAeC,GAEA,YAAxBC,SAASC,WACZF,IAEUC,SAASE,iBACnBF,SAASE,iBAAiB,mBAAoBH,GAAc,GAG5DC,SAASG,YAAY,sBAAsB,WACd,aAAxBH,SAASC,YACZF,GAEF,GAEF,EA4BiBK,OAAOC,OC7MxB,IAAMC,EAAS,CAEdC,KAAM,CACLC,SAAUC,EAAE,kBACZC,QAASD,EAAE,uBACXE,eAAgBF,EAAE,oBAGnBG,IAAK,CACJC,MAAOjB,OAAOC,WAAW,wBAG1BiB,KAAI,WAEHC,KAAKR,KAAKI,eAAeK,GAAG,SAAS,SAASC,GAC7CA,EAAEC,iBACFT,EAAEQ,EAAEE,QAAQC,KAAK,CAChB,eAAgB,SAAUC,EAAGC,GAC5B,MAAgB,UAARA,EAAmB,OAAS,OACrC,EACA,aAAc,SAAUD,EAAGC,GAC1B,MAAgB,4BAARA,EAAqCA,EAAIC,QAAQ,OAAQ,SAAWD,EAAIC,QAAQ,QAAS,OAClG,IAEDd,EAAEQ,EAAEE,QAAQK,KAAK,gBAAgBC,KAAKhB,EAAEQ,EAAEE,QAAQC,KAAK,eACvDX,EAAE,cAAciB,YAAY,kBAC7B,IAEAjB,EAAEb,QAAQoB,GAAG,SAAUD,KAAKY,MAAMC,KAAKb,MACxC,EAEAY,MAAK,WACDrB,EAAOM,IAAIC,MAAMgB,UACnBpB,EAAE,cAAcqB,YAAY,mBAC5BxB,EAAOC,KAAKG,QAAQqB,WAAW,SAC/BzB,EAAOC,KAAKI,eAAeS,KAAK,CAC/B,eAAgB,QAChB,aAAc,4BAEfd,EAAOC,KAAKI,eAAea,KAAK,gBAAgBC,KAAKnB,EAAOC,KAAKI,eAAeS,KAAK,eAEvF,GCzCKY,EAAS,CAEdzB,KAAM,CACL0B,MAAOxB,EAAE,yBACTyB,OAAQzB,EAAE,0BACV0B,QAAS1B,EAAE,2BACX2B,QAAS3B,EAAE,4BAGZK,KAAI,WAGHC,KAAKR,KAAK6B,QAAQpB,GAAG,SAAS,SAASC,GACtCA,EAAEC,iBACFT,EAAEQ,EAAEE,QAAQC,KAAK,CAChB,eAAgB,SAAUC,EAAGC,GAC5B,MAAgB,UAARA,EAAmB,OAAS,OACrC,EACA,aAAc,SAAUD,EAAGC,GAC1B,MAAgB,qBAARA,EAA8BA,EAAIC,QAAQ,OAAQ,SAAWD,EAAIC,QAAQ,QAAS,OAC3F,IAGuC,SAArCd,EAAEQ,EAAEE,QAAQC,KAAK,iBACnBY,EAAOzB,KAAK0B,MAAMF,WAAW,UAC7BC,EAAOzB,KAAK2B,OAAOd,KAAK,WAAY,KAAKiB,QACzCL,EAAOzB,KAAK4B,QAAQf,KAAK,WAAY,OAErCY,EAAOzB,KAAK0B,MAAMb,KAAK,SAAS,UAChCY,EAAOzB,KAAK2B,OAAOd,KAAK,WAAY,MACpCY,EAAOzB,KAAK4B,QAAQf,KAAK,WAAY,MAEvC,GACD,GC5BKkB,EAED,WACHhC,EAAOQ,OACPkB,EAAOlB,MACR,EAIDhB,GAAM,WACLwC,GACD,G","sources":["webpack:///../../node_modules/brei-project-utils/utils.js","webpack:///./modules/header.js","webpack:///./modules/search.js","webpack:///./squiz.js"],"sourcesContent":["/**\n * @name arrow\n * @returns {string}\n */\nconst arrow = function arrow() {\n\treturn `<div class=\"arrow\" role=\"presentation\">\n\t\t\t\t<div class=\"arrow__icon\">${iconTemplate('chevron')}</div>\n\t\t\t</div>`;\n};\n\n/**\n * @name buildQuery\n * @param {object} data\n * @returns {string}\n */\nconst buildQuery = function buildQuery(data) {\n\t// Create an array to hold the key/value pairs\n\tlet query = [];\n\n\t// Loop through the data object\n\tfor (let key in data) {\n\t\tif (data.hasOwnProperty(key)) {\n\t\t\tif (Array.isArray(data[key])) {\n\t\t\t\tdata[key].forEach(function (value) {\n\t\t\t\t\tquery.push(key + '=' + encodeURIComponent(value));\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tquery.push(key + '=' + encodeURIComponent(data[key]));\n\t\t\t}\n\t\t}\n\t}\n\n\t// Join each item in the array with an '&' and return the resulting string\n\tquery = query.join('&');\n\n\treturn query;\n};\n\n/**\n * @name closeButton\n * @param {string} style\n * @param {string} label\n */\nconst closeButton = function closeButton(style, label, dataSelector) {\n\treturn `<button class=\"close-button${(style && style.length > 0) ? (' ' + style) : ''}\" aria-label=\"${label}\"${((dataSelector) ? ' data-selector=\"' + dataSelector + '\"' : '')} tabindex=\"0\">${iconTemplate('close')}</button>`;\n};\n\n/**\n * @name dirButton\n * @param {string} style\n * @param {string} label\n * @returns {string}\n */\nconst dirButton = function dirButton(url, style, label) {\n\treturn `<a href=\"${(url && url !== '') ? url : '#'}\" class=\"dir-button${((style !== '') ? (' ' + style) : '')}\" aria-label=\"${label}\">${iconTemplate('chevron')}</a>`;\n};\n\n/**\n * @name filterChip\n * @param {string} id\n * @returns {string}\n */\nconst filterChip = function filterChip(id) {\n\treturn `<button class=\"filter-chip\" data-target=\"${id}\" tabindex=\"0\"><span class=\"filter-chip__text\">${$(id).val()}</span><div class=\"filter-chip__icon\" role=\"presentation\">${iconTemplate('x')}</div></button>`;\n};\n\n/**\n * @name getData\n * @param {string} url\n * @param {string} data\n * @param {string} type\n * @returns {object}\n */\nconst getData = function getData(url, data, type) {\n\tconst deferred = $.Deferred();\n\n\t$.ajax({\n\t\turl: url,\n\t\tmethod: 'GET',\n\t\tdata: data,\n\t\tdataType: type,\n\t\tsuccess(data) {\n\t\t\tdeferred.resolve(data);\n\t\t},\n\t\terror(jqXHR, textStatus) {\n\t\t\tdeferred.reject(textStatus);\n\t\t}\n\t});\n\n\treturn deferred.promise();\n};\n\n/**\n * @name getRandomNumber\n * @returns {number}\n * @description // Returns a 10 digit, random number\n */\nconst getRandomNumber = function getRandomNumber() {\n\treturn Math.floor(Math.random() * 9000000000) + 1000000000;\n};\n\n/**\n * @name iconTemplate\n * @param {string} name\n * @returns {string}\n */\nconst iconTemplate = function iconTemplate(name) {\n\treturn `\n\t\t<svg class=\"brei-icon brei-icon-${name}\" aria-hidden=\"true\">\n\t\t\t<use xlink:href=\"#brei-icon-${name}\"></use>\n\t\t</svg>\n\t`;\n};\n\n/**\n * @name mql\n * @const {object}\n */\nconst mql = {\n\tsmall: window.matchMedia('(min-width: 400px)'),\n\tmedium: window.matchMedia('(min-width: 768px)'),\n\tlarge: window.matchMedia('(min-width: 1024px)'),\n\txlarge: window.matchMedia('(min-width: 1200px)'),\n\txxlarge: window.matchMedia('(min-width: 1440px)'),\n\txxxlarge: window.matchMedia('(min-width: 1920px)')\n};\n\n/**\n * @name queryStringToJSON\n * @param {string} qs\n * @returns {object}\n */\nconst queryStringToJSON = function queryStringToJSON(qs) {\n\tqs = qs || window.location.search.slice(1);\n\n\tlet pairs = qs.split('&');\n\tlet result = {};\n\n\tpairs.forEach(function (p) {\n\t\tlet pair = p.split('=');\n\t\tlet key = pair[0];\n\t\tlet value = decodeURIComponent(pair[1] || '');\n\n\t\tif(result[key]) {\n\t\t\tif(Object.prototype.toString.call(result[key]) === '[object Array]') {\n\t\t\t\tresult[key].push(value);\n\t\t\t} else {\n\t\t\t\tresult[key] = [result[key], value];\n\t\t\t}\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\t});\n\n\treturn JSON.parse(JSON.stringify(result));\n};\n\n/**\n * @name ready\n * @param {func} callbackFunc\n * @description On DOM ready, execute callback function\n */\nconst ready = function ready(callbackFunc) {\n\t// Document is ready; call the callback function\n\tif (document.readyState !== 'loading') {\n\t\tcallbackFunc();\n\t\t// Modern browsers\n\t} else if (document.addEventListener) {\n\t\tdocument.addEventListener('DOMContentLoaded', callbackFunc, false);\n\t\t// Old IE browsers (IE <= 8)\n\t} else {\n\t\tdocument.attachEvent('onreadystatechange', function () {\n\t\t\tif (document.readyState === 'complete') {\n\t\t\t\tcallbackFunc();\n\t\t\t}\n\t\t});\n\t}\n};\n\n/**\n * @name scrollToTop\n * @param {object} element\n * @param {number} duration\n */\nconst scrollToTop = function scrollToTop(element, duration) {\n\t$('html, body').animate({\n\t\tscrollTop: element.offset().top\n\t}, duration);\n};\n\n/**\n * @name speechBubble\n * @param {string} style\n * @param {string} text\n * @returns {string}\n */\nconst speechBubble = function speechBubble(style, id, text) {\n\treturn `\n\t\t<div id=\"${id}\" class=\"speech-bubble${(style && style.length > 0) ? (' ' + style) : ''}\" role=\"tooltip\">\n\t\t\t<span class=\"speech-bubble__text\">${text}</span>\n\t\t\t${closeButton('close-button--light close-button--small', 'Click to close tooltip')}\n\t\t</div>\n\t`;\n};\n\nconst _extends = Object.assign || function (target) { for (let i = 1; i < arguments.length; i++) { let source = arguments[i]; for (let key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nconst utils = {\n\tarrow,\n\tbuildQuery,\n\tcloseButton,\n\tdirButton,\n\tfilterChip,\n\tgetData,\n\tgetRandomNumber,\n\ticonTemplate,\n\tmql,\n\tqueryStringToJSON,\n\tready,\n\tscrollToTop,\n\tspeechBubble,\n\t_extends\n};\n\nexport {\n\tarrow,\n\tbuildQuery,\n\tcloseButton,\n\tdirButton,\n\tfilterChip,\n\tgetData,\n\tgetRandomNumber,\n\ticonTemplate,\n\tmql,\n\tqueryStringToJSON,\n\tready,\n\tscrollToTop,\n\tspeechBubble,\n\t_extends\n};\n\nexport { utils as default };\n","const header = {\n\n\telem: {\n\t\t$primary: $('.header__lower'),\n\t\t$header: $('.header__navigation'),\n\t\t$primaryToggle: $('.header__toggle')\n\t},\n\n\tmql: {\n\t\tlarge: window.matchMedia('(min-width: 1024px)')\n\t},\n\n\tinit() {\n\n\t\tthis.elem.$primaryToggle.on('click', function(e) {\n\t\t\te.preventDefault();\n\t\t\t$(e.target).attr({\n\t\t\t\t'aria-pressed': function (i, txt) {\n\t\t\t\t\treturn (txt === 'false') ? 'true' : 'false';\n\t\t\t\t},\n\t\t\t\t'aria-label': function (i, txt) {\n\t\t\t\t\treturn (txt === 'Open primary navigation') ? txt.replace('Open', 'Close') : txt.replace('Close', 'Open');\n\t\t\t\t}\n\t\t\t});\n\t\t\t$(e.target).find('.show-for-sr').html($(e.target).attr('aria-label'));\n\t\t\t$('html, body').toggleClass('body--no-scroll');\t\n\t\t});\n\n\t\t$(window).on('resize', this.reset.bind(this));\n\t},\n\n\treset() {\n\t\tif(header.mql.large.matches) {\n\t\t\t$('html, body').removeClass('body--no-scroll');\t\t\t\t\t\t\n\t\t\theader.elem.$header.removeAttr('style');\n\t\t\theader.elem.$primaryToggle.attr({\n\t\t\t\t'aria-pressed': 'false',\n\t\t\t\t'aria-label': 'Open primary navigation'\n\t\t\t});\n\t\t\theader.elem.$primaryToggle.find('.show-for-sr').html(header.elem.$primaryToggle.attr('aria-label'));\n\t\t}\n\t}\n\n};\n\nexport { header };\n","const search = {\n\n\telem: {\n\t\t$form: $('.search-desktop__form'),\t\t\n\t\t$input: $('.search-desktop__input'),\n\t\t$submit: $('.search-desktop__submit'),\t\t\n\t\t$toggle: $('.search-desktop__toggle')\n\t},\n\n\tinit() {\n\n\n\t\tthis.elem.$toggle.on('click', function(e) {\n\t\t\te.preventDefault();\n\t\t\t$(e.target).attr({\n\t\t\t\t'aria-pressed': function (i, txt) {\n\t\t\t\t\treturn (txt === 'false') ? 'true' : 'false';\n\t\t\t\t},\n\t\t\t\t'aria-label': function (i, txt) {\n\t\t\t\t\treturn (txt === 'Open site search') ? txt.replace('Open', 'Close') : txt.replace('Close', 'Open');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif($(e.target).attr('aria-pressed') === 'true'){\n\t\t\t\tsearch.elem.$form.removeAttr('hidden');\n\t\t\t\tsearch.elem.$input.attr('tabindex', '0').focus();\n\t\t\t\tsearch.elem.$submit.attr('tabindex', '0');\n\t\t\t} else {\n\t\t\t\tsearch.elem.$form.attr('hidden','hidden');\n\t\t\t\tsearch.elem.$input.attr('tabindex', '-1');\n\t\t\t\tsearch.elem.$submit.attr('tabindex', '-1');\n\t\t\t}\t\t\t\t\n\t\t});\n\t}\n\n};\n\nexport { search };\n","import { ready } from 'brei-project-utils';\n\nimport { header } from './modules/header';\nimport { search } from './modules/search';\n\nconst main = {\n\n\tinit() {\n\t\theader.init();\n\t\tsearch.init();\n\t},\n\n};\n\nready(function () {\n\tmain.init();\n});\n"],"names":["window","matchMedia","ready","callbackFunc","document","readyState","addEventListener","attachEvent","Object","assign","header","elem","$primary","$","$header","$primaryToggle","mql","large","init","this","on","e","preventDefault","target","attr","i","txt","replace","find","html","toggleClass","reset","bind","matches","removeClass","removeAttr","search","$form","$input","$submit","$toggle","focus","main"],"sourceRoot":""}