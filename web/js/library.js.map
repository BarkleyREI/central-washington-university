{"version":3,"file":"library.js","mappings":"yBAuHQA,OAAOC,WAAW,sBACjBD,OAAOC,WAAW,sBACnBD,OAAOC,WAAW,uBACjBD,OAAOC,WAAW,uBACjBD,OAAOC,WAAW,uBACjBD,OAAOC,WAAW,uBAxH7B,MA8JMC,EAAQ,SAAeC,GAEA,YAAxBC,SAASC,WACZF,IAEUC,SAASE,iBACnBF,SAASE,iBAAiB,mBAAoBH,GAAc,GAG5DC,SAASG,YAAY,sBAAsB,WACd,aAAxBH,SAASC,YACZF,GAEF,GAEF,EA4BiBK,OAAOC,OCxMxB,IAAMC,EAAO,CACZC,KAAM,CACLC,MAAOC,EAAE,SACTC,MAAOD,EAAE,eAGVE,KAAI,WACCC,KAAKL,KAAKC,MAAMK,OAAS,IAE5BD,KAAKL,KAAKC,MAAMM,KAAK,iBAAiBC,GAAG,SAAS,WACjDT,EAAKC,KAAKC,MAAMQ,YAAY,cAC5BV,EAAKC,KAAKC,MAAMM,KAAK,iBAAiBG,KAAK,CAC1C,gBAAiB,SAAUC,EAAGC,GAC7B,MAAgB,UAARA,EAAmB,OAAS,OACrC,EACA,aAAc,SAAUD,EAAGC,GAC1B,MAAgB,+CAARA,EAAwDA,EAAIC,QAAQ,OAAQ,SAAWD,EAAIC,QAAQ,QAAS,OACrH,IAEDd,EAAKC,KAAKC,MAAMM,KAAK,iBAAiBG,KAAK,CAC1C,cAAe,SAAUC,EAAGC,GAC3B,MAAgB,UAARA,EAAmB,OAAS,OACrC,GAEF,IAEAP,KAAKL,KAAKG,MAAMK,GAAG,SAAS,SAASM,GACpCA,EAAEC,iBACFhB,EAAKC,KAAKC,MAAMe,SAAS,cACzBjB,EAAKC,KAAKC,MAAMM,KAAK,iBAAiBG,KAAK,CAAE,gBAAiB,OAAQ,aAAc,gDACpFX,EAAKC,KAAKC,MAAMM,KAAK,iBAAiBG,KAAK,CAAC,cAAe,UAC3DX,EAAKC,KAAKC,MAAMM,KAAK,UAAUU,OAChC,IAEF,GCnCKC,EACD,WACHnB,EAAKK,MACN,EAGDb,GAAM,WACL2B,GACD,G","sources":["webpack:///../../node_modules/brei-project-utils/utils.js","webpack:///./modules/chat.js","webpack:///./library.js"],"sourcesContent":["/**\n * @name arrow\n * @returns {string}\n */\nconst arrow = function arrow() {\n\treturn `<div class=\"arrow\" role=\"presentation\">\n\t\t\t\t<div class=\"arrow__icon\">${iconTemplate('chevron')}</div>\n\t\t\t</div>`;\n};\n\n/**\n * @name buildQuery\n * @param {object} data\n * @returns {string}\n */\nconst buildQuery = function buildQuery(data) {\n\t// Create an array to hold the key/value pairs\n\tlet query = [];\n\n\t// Loop through the data object\n\tfor (let key in data) {\n\t\tif (data.hasOwnProperty(key)) {\n\t\t\tif (Array.isArray(data[key])) {\n\t\t\t\tdata[key].forEach(function (value) {\n\t\t\t\t\tquery.push(key + '=' + encodeURIComponent(value));\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tquery.push(key + '=' + encodeURIComponent(data[key]));\n\t\t\t}\n\t\t}\n\t}\n\n\t// Join each item in the array with an '&' and return the resulting string\n\tquery = query.join('&');\n\n\treturn query;\n};\n\n/**\n * @name closeButton\n * @param {string} style\n * @param {string} label\n */\nconst closeButton = function closeButton(style, label, dataSelector) {\n\treturn `<button class=\"close-button${(style && style.length > 0) ? (' ' + style) : ''}\" aria-label=\"${label}\"${((dataSelector) ? ' data-selector=\"' + dataSelector + '\"' : '')} tabindex=\"0\">${iconTemplate('close')}</button>`;\n};\n\n/**\n * @name dirButton\n * @param {string} style\n * @param {string} label\n * @returns {string}\n */\nconst dirButton = function dirButton(url, style, label) {\n\treturn `<a href=\"${(url && url !== '') ? url : '#'}\" class=\"dir-button${((style !== '') ? (' ' + style) : '')}\" aria-label=\"${label}\">${iconTemplate('chevron')}</a>`;\n};\n\n/**\n * @name filterChip\n * @param {string} id\n * @returns {string}\n */\nconst filterChip = function filterChip(id) {\n\treturn `<button class=\"filter-chip\" data-target=\"${id}\" tabindex=\"0\"><span class=\"filter-chip__text\">${$(id).val()}</span><div class=\"filter-chip__icon\" role=\"presentation\">${iconTemplate('x')}</div></button>`;\n};\n\n/**\n * @name getData\n * @param {string} url\n * @param {string} data\n * @param {string} type\n * @returns {object}\n */\nconst getData = function getData(url, data, type) {\n\tconst deferred = $.Deferred();\n\n\t$.ajax({\n\t\turl: url,\n\t\tmethod: 'GET',\n\t\tdata: data,\n\t\tdataType: type,\n\t\tsuccess(data) {\n\t\t\tdeferred.resolve(data);\n\t\t},\n\t\terror(jqXHR, textStatus) {\n\t\t\tdeferred.reject(textStatus);\n\t\t}\n\t});\n\n\treturn deferred.promise();\n};\n\n/**\n * @name getRandomNumber\n * @returns {number}\n * @description // Returns a 10 digit, random number\n */\nconst getRandomNumber = function getRandomNumber() {\n\treturn Math.floor(Math.random() * 9000000000) + 1000000000;\n};\n\n/**\n * @name iconTemplate\n * @param {string} name\n * @returns {string}\n */\nconst iconTemplate = function iconTemplate(name) {\n\treturn `\n\t\t<svg class=\"brei-icon brei-icon-${name}\" aria-hidden=\"true\">\n\t\t\t<use xlink:href=\"#brei-icon-${name}\"></use>\n\t\t</svg>\n\t`;\n};\n\n/**\n * @name mql\n * @const {object}\n */\nconst mql = {\n\tsmall: window.matchMedia('(min-width: 400px)'),\n\tmedium: window.matchMedia('(min-width: 768px)'),\n\tlarge: window.matchMedia('(min-width: 1024px)'),\n\txlarge: window.matchMedia('(min-width: 1200px)'),\n\txxlarge: window.matchMedia('(min-width: 1440px)'),\n\txxxlarge: window.matchMedia('(min-width: 1920px)')\n};\n\n/**\n * @name queryStringToJSON\n * @param {string} qs\n * @returns {object}\n */\nconst queryStringToJSON = function queryStringToJSON(qs) {\n\tqs = qs || window.location.search.slice(1);\n\n\tlet pairs = qs.split('&');\n\tlet result = {};\n\n\tpairs.forEach(function (p) {\n\t\tlet pair = p.split('=');\n\t\tlet key = pair[0];\n\t\tlet value = decodeURIComponent(pair[1] || '');\n\n\t\tif(result[key]) {\n\t\t\tif(Object.prototype.toString.call(result[key]) === '[object Array]') {\n\t\t\t\tresult[key].push(value);\n\t\t\t} else {\n\t\t\t\tresult[key] = [result[key], value];\n\t\t\t}\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\t});\n\n\treturn JSON.parse(JSON.stringify(result));\n};\n\n/**\n * @name ready\n * @param {func} callbackFunc\n * @description On DOM ready, execute callback function\n */\nconst ready = function ready(callbackFunc) {\n\t// Document is ready; call the callback function\n\tif (document.readyState !== 'loading') {\n\t\tcallbackFunc();\n\t\t// Modern browsers\n\t} else if (document.addEventListener) {\n\t\tdocument.addEventListener('DOMContentLoaded', callbackFunc, false);\n\t\t// Old IE browsers (IE <= 8)\n\t} else {\n\t\tdocument.attachEvent('onreadystatechange', function () {\n\t\t\tif (document.readyState === 'complete') {\n\t\t\t\tcallbackFunc();\n\t\t\t}\n\t\t});\n\t}\n};\n\n/**\n * @name scrollToTop\n * @param {object} element\n * @param {number} duration\n */\nconst scrollToTop = function scrollToTop(element, duration) {\n\t$('html, body').animate({\n\t\tscrollTop: element.offset().top\n\t}, duration);\n};\n\n/**\n * @name speechBubble\n * @param {string} style\n * @param {string} text\n * @returns {string}\n */\nconst speechBubble = function speechBubble(style, id, text) {\n\treturn `\n\t\t<div id=\"${id}\" class=\"speech-bubble${(style && style.length > 0) ? (' ' + style) : ''}\" role=\"tooltip\">\n\t\t\t<span class=\"speech-bubble__text\">${text}</span>\n\t\t\t${closeButton('close-button--light close-button--small', 'Click to close tooltip')}\n\t\t</div>\n\t`;\n};\n\nconst _extends = Object.assign || function (target) { for (let i = 1; i < arguments.length; i++) { let source = arguments[i]; for (let key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nconst utils = {\n\tarrow,\n\tbuildQuery,\n\tcloseButton,\n\tdirButton,\n\tfilterChip,\n\tgetData,\n\tgetRandomNumber,\n\ticonTemplate,\n\tmql,\n\tqueryStringToJSON,\n\tready,\n\tscrollToTop,\n\tspeechBubble,\n\t_extends\n};\n\nexport {\n\tarrow,\n\tbuildQuery,\n\tcloseButton,\n\tdirButton,\n\tfilterChip,\n\tgetData,\n\tgetRandomNumber,\n\ticonTemplate,\n\tmql,\n\tqueryStringToJSON,\n\tready,\n\tscrollToTop,\n\tspeechBubble,\n\t_extends\n};\n\nexport { utils as default };\n","/**\n * Chat component.\n * @module components/chat\n */\n\nconst chat = {\n\telem: {\n\t\t$chat: $('.chat'),\n\t\t$open: $('.open-chat')\n\t},\n\t\n\tinit() {\n\t\tif (this.elem.$chat.length > 0) {\n\t\t\t\n\t\t\tthis.elem.$chat.find('.chat__button').on('click', function() {\n\t\t\t\tchat.elem.$chat.toggleClass('chat--open');\n\t\t\t\tchat.elem.$chat.find('.chat__button').attr({\n\t\t\t\t\t'aria-expanded': function (i, txt) {\n\t\t\t\t\t\treturn (txt === 'false') ? 'true' : 'false';\n\t\t\t\t\t},\n\t\t\t\t\t'aria-label': function (i, txt) {\n\t\t\t\t\t\treturn (txt === 'Click here to open the library chat window') ? txt.replace('open', 'close') : txt.replace('close', 'open');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tchat.elem.$chat.find('.chat__window').attr({\n\t\t\t\t\t'aria-hidden': function (i, txt) {\n\t\t\t\t\t\treturn (txt === 'false') ? 'true' : 'false';\n\t\t\t\t\t}\n\t\t\t\t})\t\n\t\t\t});\n\n\t\t\tthis.elem.$open.on('click', function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tchat.elem.$chat.addClass('chat--open');\n\t\t\t\tchat.elem.$chat.find('.chat__button').attr({ 'aria-expanded': 'true', 'aria-label': 'Click here to close the library chat window' });\n\t\t\t\tchat.elem.$chat.find('.chat__window').attr({'aria-hidden': 'false' });\n\t\t\t\tchat.elem.$chat.find('iframe').focus();\t\t\t\t\n\t\t\t});\n\t\t}\n\t}\n};\n\nexport { chat };\n","import { ready } from 'brei-project-utils';\n\nimport { chat } from './modules/chat';\n\nconst bibliotheque = {\n\tinit() {\n\t\tchat.init();\n\t}\n};\n\nready(function () {\n\tbibliotheque.init();\n});\n"],"names":["window","matchMedia","ready","callbackFunc","document","readyState","addEventListener","attachEvent","Object","assign","chat","elem","$chat","$","$open","init","this","length","find","on","toggleClass","attr","i","txt","replace","e","preventDefault","addClass","focus","bibliotheque"],"sourceRoot":""}